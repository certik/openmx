#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include <string.h>
#include <complex.h>

#define asize1   40
#define asize2   40
#define asize3   40

#define asize4   100000000

#define PI  3.14159265

typedef struct { double r,i; } dcomplex;

void myfunc1();
void myfunc2();
void myfunc3();

void dataset();

double *array1;

int main(int argc, char *argv[]) 
{
  int i;
  double zin,zout;
  double a0,a1,a2,a3;
  double sx,sy,sz,Tx,Ty,Tz;

  double a[28][3]=
           {{0.09399,    88.89113,  -44.30159},
            {-0.09240,    88.92476,  -22.40339},
            {0.10042,   79.53355,  -37.82702},
            {-0.09837,    79.35176,  -16.69602},
            {0.00047,   -81.17869,   53.80996},
            {-0.00021,   -68.41500,  -46.28546},
            {-0.00051,   87.37591,   53.91112},
            {0.00028,    89.32613,  -33.02946},
            {0.00045,   -89.29236,   52.40207},
            {-0.00014,   -89.95200,  -72.16579},
            {0.00011,    42.82710,  -64.62835},
            {-0.00045,   80.68388,   50.62722},
            {0.00599,    89.46519,   11.05045},
            {-0.01513,   89.87555,   41.99517},
            { 0.01499,  -89.85886,   42.46903},
            {-0.00601,  -89.77819,   12.77888},
            { 0.00134,  -76.18023,   -6.48008},
            {-0.00162,  -79.66682,    5.72080},
            { 0.00348,  -23.28963,   -2.51138},
            {-0.00356,  -27.41071,    9.08487},
            { 0.01473,  -89.79524,   40.72072},
            {-0.00692,  -89.60537,    0.06486},
            { 0.00694,   89.75076,   -1.62273},
            {-0.01490,   89.91728,   40.15747},
            { 0.00331,   19.91933,   81.90571},
            {-0.00320,  -12.05201,  -78.99471},
            {-0.00072,   64.83436,   88.10078},
            { 0.00111,   74.72865,   74.14366}};

  Tx = 0.0;
  Ty = 0.0;
  Tz = 0.0;

  for (i=0; i<28; i++){

    sx = a[i][0]*sin(a[i][1]/180*PI)*cos(a[i][2]/180*PI);  
    sy = a[i][0]*sin(a[i][1]/180*PI)*sin(a[i][2]/180*PI);  
    sz = a[i][0]*cos(a[i][1]/180*PI);

    printf("i=%2d  sx=%15.12f sy=%15.12f sz=%15.12f\n",i+1,sx,sy,sy);

    Tx += sx;
    Ty += sy;
    Tz += sz;
  }

  printf("Sx=%15.12f\n",Tx);
  printf("Sy=%15.12f\n",Ty);
  printf("Sz=%15.12f\n",Tz);
  printf("Total S=%15.12f\n",sqrt(Tx*Tx+Ty*Ty+Tz*Tz));


}
